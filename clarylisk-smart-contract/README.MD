# ğŸ”® Clarylisk Smart Contracts with Foundry

## âš¡ï¸ The Magic of Foundry

Foundry is a blazing fast, portable and modular toolkit for Ethereum application development written in Rust. It's the backbone of Clarylisk's smart contract development!

## ğŸ§° Foundry Toolbox

Foundry brings you:

- ğŸ› ï¸ **Forge**: Lightning-fast Ethereum testing framework
- ğŸ—¡ï¸ **Cast**: Swiss army knife for EVM interactions
- âš’ï¸ **Anvil**: Local Ethereum node with superpowers
- ğŸª„ **Chisel**: Solidity REPL that makes debugging fun

## ğŸš€ Quick Start Guide

### ğŸ” Prerequisites

1. Install Foundry (if you haven't already):
```bash
curl -L https://foundry.paradigm.xyz | bash
foundryup
```

2. Clone the Clarylisk smart contracts repository:
```bash
git clone https://github.com/clarylisk/contracts.git
cd contracts
```

## âœ¨ Magical Commands

### ğŸ—ï¸ Build Your Contracts
```bash
forge build
```

### ğŸ§ª Test Your Magic
```bash
forge test
```
Want colorful output? Try:
```bash
forge test -vvv --gas-report
```

### ğŸ’… Format Your Spells
```bash
forge fmt
```

### â›½ Track Your Gas Usage
```bash
forge snapshot
```

### ğŸŒ Create Your Local Chain
```bash
anvil
```

### ğŸ“œ Deploy Your Contracts
Deploy to testnet:
```bash
forge script script/DeployClarylisk.s.sol:DeployClaryliskScript --rpc-url lisk_testnet --broadcast --verify
```

Deploy to mainnet (be careful!):
```bash
forge script script/DeployClarylisk.s.sol:DeployClaryliskScript --rpc-url lisk_mainnet --broadcast --verify
```

### ğŸ”® Interact With The Blockchain
Get token balance:
```bash
cast call $IDRX_CONTRACT "balanceOf(address)" $YOUR_ADDRESS --rpc-url lisk_mainnet
```

## ğŸ§™â€â™‚ï¸ Advanced Spells

### Deploy with environment variables
```bash
source .env
forge script script/DeployClarylisk.s.sol:DeployClaryliskScript --rpc-url $RPC_URL --private-key $PRIVATE_KEY
```

### Verify your contract
```bash
forge verify-contract $CONTRACT_ADDRESS src/Clarylisk.sol:Clarylisk --chain-id 1 --watch
```

### Debug transaction
```bash
cast trace $TX_HASH --rpc-url lisk_mainnet
```

## ğŸ“š Common Contract Interactions

### Approve donations (for testing)
```bash
cast send $CLARYLISK_CONTRACT "approveDonations(uint256[])" "[1,2,3]" --rpc-url $RPC_URL --private-key $PRIVATE_KEY
```

### Burn gambling donations
```bash
cast send $CLARYLISK_CONTRACT "burnDonations(uint256[])" "[4,5]" --rpc-url $RPC_URL --private-key $PRIVATE_KEY
```

## ğŸ­ Testing Environment Setup

Create a `.env` file with:
```
RPC_URL="https://mainnet.lisk.io/rpc"
PRIVATE_KEY="your_private_key_here"
ETHERSCAN_API_KEY="your_etherscan_api_key_here"
```

Then load it before running commands:
```bash
source .env
```

## ğŸ† Best Practices

- Always run `forge test` before deploying
- Use `forge coverage` to ensure test coverage
- Leverage `forge gas-report` to optimize contracts
- Setup GitHub Actions for CI/CD with Foundry
- Use `cast storage` to inspect contract storage

## ğŸ†˜ Need Help?

```bash
forge --help
anvil --help
cast --help
chisel --help
```

Or visit the [Foundry Documentation](https://book.getfoundry.sh/)

---

<p align="center">ğŸ”® <b>Happy Conjuring!</b> ğŸ”®</p>
